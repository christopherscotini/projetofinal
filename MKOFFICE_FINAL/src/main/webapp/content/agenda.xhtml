<?xml version='1.0' encoding='ISO-8859-1' ?>
<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:panelGroup id="group-dados-compromissos">
		<p:outputLabel styleClass="HtmlOutputTextLabelSubtitle" value="AGENDA" />
		<hr class="lin" />
		<h:panelGrid cellpadding="0" cellspacing="0" columns="1" border="0"
			styleClass="conteudo-agenda"
			style="margin-top:20px;margin-bottom:10px;" width="50%">
			<h:panelGroup>
				<p:schedule widgetVar="meucalendario" locale="pt"
					value="#{scheduleController.eventModel}" axisFormat="H:mm"
					timeFormat="H:mm" minTime="6" maxTime="22:00"
					initialDate="#{scheduleController.dataInicioCalendar}">
					<p:ajax event="dateSelect"
						listener="#{scheduleController.quandoNovo}" update="eventDetails"
						oncomplete="caixaDialogo.show()" />
					<p:ajax event="eventSelect"
						listener="#{scheduleController.quandoSelecionado}"
						update="eventDetails" oncomplete="caixaDialogo.show()" />
					<p:ajax event="eventMove"
						listener="#{scheduleController.quandoMovido}"
						update="messagesGlobal" oncomplete="meucalendario.update()" />
					<p:ajax event="eventResize"
						listener="#{scheduleController.quandoRedimensionado}"
						update="messagesGlobal" oncomplete="meucalendario.update()" />

				</p:schedule>
			</h:panelGroup>

		</h:panelGrid>
	</h:panelGroup>
	<hr class="lin" />

	<h:panelGroup id="group-dados-agenda">
		<p:dialog widgetVar="caixaDialogo" header="Evento" width="500"
			resizable="false" modal="true" showEffect="clip" hideEffect="clip">

			<p:outputPanel id="eventDetails">

				<h:panelGrid columns="2">

					<h:outputLabel for="descricao" value="Descrição:" />
					<p:inputText id="descricao" maxlength="60" required="true"
						value="#{scheduleController.agenda.descricao}" />

					<h:outputLabel for="tipo-agenda" value="Tipo de Agenda:" />
					<p:selectOneMenu id="tipo-agenda" maxlength="60" required="true"
						value="#{scheduleController.agenda.tipoAgenda}">
						<f:selectItems value="#{scheduleController.tipoAgendaLista}"
							var="tipo" itemLabel="#{tipo.toString()}" itemValue="#{tipo}" />
					</p:selectOneMenu>

					<h:outputLabel for="calendarDataInicial" value="Início:" />
					<p:calendar id="calendarDataInicial" required="true"
						value="#{scheduleController.agenda.dataInicio}"
						pattern="dd/MM/yyyy HH:mm" />

					<h:outputLabel for="calendarDataFinal" value="Fim:" />
					<p:calendar id="calendarDataFinal" required="true"
						value="#{scheduleController.agenda.dataFim}"
						pattern="dd/MM/yyyy HH:mm" />

					<h:outputLabel for="diaTodo" value="Dia todo?:" />
					<h:selectBooleanCheckbox id="diaTodo"
						value="#{scheduleController.agenda.diaTodo}" />

				</h:panelGrid>

				<p:separator />

				<p:commandButton value="Salvar"
					onclick="return compara_datas(document.forms[1])"
					actionListener="#{scheduleController.salvar()}"
					oncomplete="meucalendario.update();caixaDialogo.hide();"
					update="messagesGlobal" />

			</p:outputPanel>
		</p:dialog>
	</h:panelGroup>


	<h:panelGroup>
		<div class="buttonFooter">
			<div style="height: 10px; width: 10px;"></div>
		</div>
	</h:panelGroup>

</ui:composition>