<?xml version='1.0' encoding='ISO-8859-1' ?>
<ui:composition template="/template/template_main.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="cssImports">
	</ui:define>
	
	<ui:define name="jsImports">
	</ui:define>

	<ui:define name="breadcrumb">
		<ul class="breadcrumb">
			<li class="active">
				<h:commandLink action="#{clienteBean.scheduleBean.telaInicial()}" value="#{msgs['generico.breadcumb.telainicial']}" />
				<span class="divider">/</span>
			</li>
			<li class="active">
				<h:commandLink action="#{efetuarPedidoBean.navegarVoltarSelecProdPedido()}" value="#{msgs['concluirpedido.breadcumb.pedido']}" />
				<span class="divider">/</span>
			</li>
			<li class="active">
				<h:commandLink action="#{efetuarPedidoBean.navegarVoltarSelecProdPedido()}" value="#{msgs['concluirpedido.breadcumb.pedido.cadastrarpedido']}" />
				<span class="divider">/</span>
			</li>
			<li class="active">
				<h:commandLink action="#{efetuarPedidoBean.navegarVoltarRevisarPedido()}" value="#{msgs['concluirpedido.breadcumb.pedido.cadastrarpedido.dadospedido']}" />
				<span class="divider">/</span>
			</li>
			<li>#{msgs['concluirpedido.breadcumb.pedido.cadastrarpedido.dadospedido.concluirpedido']}</li>
		</ul>
	</ui:define>
	
	<ui:define name="body_content">
		<div class="widget">
			<div class="widget-heading">
				<a class="accordion-toggle in" data-toggle="collapse" href="#" data-original-title="">
				<i class="icon-table"></i> #{msgs['concluirpedido.lbl.legend.detalhespedido']}</a>
			</div>
			<div id="formdiv" class="widget-body collapse in">
				<div class="widget-inner">
					<h:panelGrid cellpadding="0" cellspacing="0" columns="2" border="0">
						<p:outputLabel value="#{msgs['concluirpedido.lbl.numeropedido']}:" for="txtNumPedido" styleClass="HtmlOutputLabelResposta" />
						<p:outputLabel id="txtNumPedido"
							value="#{efetuarPedidoBean.pedidoDTO.codPedido}"
							styleClass="input-5left HtmlOutputTextResposta" />
						
						<p:outputLabel value="#{msgs['concluirpedido.lbl.datapedido']}:" for="txtDataPedido" styleClass="HtmlOutputLabelResposta"/>
						<p:outputLabel id="txtDataPedido" value="#{efetuarPedidoBean.pedidoDTO.dtPedidoFormatado}" styleClass="input-5left HtmlOutputTextResposta" />
	
						<p:outputLabel value="#{msgs['concluirpedido.lbl.valorpedido']}:" for="txtPrecoVarejo" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtPrecoVarejo" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel id="txtPrecoVarejo" value="#{efetuarPedidoBean.pedidoDTO.valorTotalEmProdutos}" styleClass="input-5left HtmlOutputTextResposta">
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>
	
						<p:outputLabel value="#{msgs['concluirpedido.lbl.percentualdesconto']}:" for="txtPercDesconto" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGroup>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.porcDesconto}%" id="txtPercDesconto" styleClass="input-5left HtmlOutputTextResposta" >
							</h:outputLabel>
						</h:panelGroup>
						
						<p:outputLabel value="#{msgs['concluirpedido.lbl.valorpedidodesconto']}:" for="txtPrecoDesconto" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtPrecoVarejo" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.valorTotalAtacado}" id="txtPrecoDesconto" styleClass="input-5left HtmlOutputTextResposta">
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>
											
						<p:outputLabel value="#{msgs['concluirpedido.lbl.totalpontos']}:" for="txtTotPontos" styleClass="HtmlOutputLabelResposta"/>
						<p:outputLabel value="#{efetuarPedidoBean.pedidoDTO.pontosTotalPedido} pts" id="txtTotPontos" styleClass="input-5left HtmlOutputTextResposta" />
	
						<p:outputLabel value="#{msgs['concluirpedido.lbl.valorbonusutilizado']}:" for="txtValorBonus" styleClass="HtmlOutputLabelResposta" />
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtValorBonus" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.valorBonusUtilizado}" id="txtValorBonus" styleClass="input-5left HtmlOutputTextResposta" >
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>						
						<p:outputLabel value="#{msgs['concluirpedido.lbl.valorfrete']}:" for="txtValorFrete" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtValorFrete" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.valorFrete}" id="txtValorFrete" styleClass="input-5left HtmlOutputTextResposta" >
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>						
						<p:outputLabel value="#{msgs['concluirpedido.lbl.valortotalpagar']}:" for="txtValorTotalPedido" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtValorTotalPedido" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.valorFinalTotalPago}" id="txtValorTotalPedido" styleClass="input-5left HtmlOutputTextResposta">
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>
						<p:outputLabel value="#{msgs['concluirpedido.lbl.lucroestimado']}:" for="txtLucroTotalPedido" styleClass="HtmlOutputLabelResposta"/>
						<h:panelGrid columns="2">
							<p:outputLabel value="R$" for="txtLucroTotalPedido" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:outputLabel value="#{efetuarPedidoBean.pedidoDTO.lucroTotal}" id="txtLucroTotalPedido" styleClass="input-5left HtmlOutputTextResposta">
								<f:converter converterId="decimalConverter" />
							</h:outputLabel>
						</h:panelGrid>
						<p:outputLabel value="#{msgs['concluirpedido.lbl.numeroprodutos']}:" styleClass="HtmlOutputLabelResposta"/>
						<p:outputLabel value="#{efetuarPedidoBean.lblNumeroProdutosPedido}" styleClass="input-5left HtmlOutputTextResposta" />
						<p:outputLabel value="#{msgs['concluirpedido.lbl.numeroitens']}" styleClass="HtmlOutputLabelResposta" />
						<p:outputLabel value="#{efetuarPedidoBean.lblNumeroItensPedido}" styleClass="input-5left HtmlOutputTextResposta" />
					</h:panelGrid>
				</div>
			</div>
		</div>
		
		<div class="widget">
			<div class="widget-heading">
				<a class="accordion-toggle in" data-toggle="collapse" href="#" data-original-title="">
				<i class="icon-table"></i> #{msgs['concluirpedido.lbl.legend.formapagamento']}</a>
			</div>
			<div id="formdiv" class="widget-body collapse in">
				<div class="widget-inner">				
					<h:panelGrid columns="3" style="margin: 0 auto;">
						<h:panelGroup >
							<h:panelGrid columns="1" >
								<p:outputLabel value="#{msgs['concluirpedido.lbl.formapagamento']}:" />
								<p:selectOneMenu id="cboFormaPgto" value="#{efetuarPedidoBean.pedidoDTO.formaDePagamento}" styleClass="input-5left" converter="genericEntityConverter" >
									<f:selectItems value="#{efetuarPedidoBean.cboFormaPagamento}" var="_fp" itemLabel="#{_fp.descFormaPgto}" itemValue="#{_fp}" />
									<p:ajax update="lblParcelamento" listener="#{efetuarPedidoBean.onChangeFormaPagamento()}"/>
								</p:selectOneMenu>
								<h:panelGroup>
									<div style="height: 48px;width: 170px;"></div>
								</h:panelGroup>
							</h:panelGrid>
						</h:panelGroup>
						<h:panelGroup id="lblParcelamento" >
							<p:outputLabel value="#{msgs['concluirpedido.lbl.parcelamento']}:" />
							<p:selectOneListbox id="listPArcelamento" value="#{efetuarPedidoBean.numParcelasPagamento}" styleClass="input-5left" style="width: 200px;height: 80px;" required="true" requiredMessage="Selecione a parcela desejada.">  
					            <f:selectItems value="#{efetuarPedidoBean.listaParcelamentoSelectItem}" var="parc" itemLabel="#{parc.label}" itemValue="#{parc.value}" />  
					        </p:selectOneListbox>								
						</h:panelGroup>
						<h:panelGroup id="lblVctoPrimeiraParcela" >
							<h:panelGrid columns="1" >
								<p:outputLabel value="#{msgs['concluirpedido.lbl.datavencimentoparcela']}:" />
								<p:calendar id="txtDataVctoPrimeiraParcela" value="#{efetuarPedidoBean.dtVctoPrimeiraParcela}" size="13"  pattern="dd/MM/yyyy" alt="date" />
								<h:panelGroup>
									<div style="height: 48px;width: 170px;"></div>
								</h:panelGroup>
							</h:panelGrid>
						</h:panelGroup>
					</h:panelGrid>
				</div>
			</div>
		</div>
						
		<hr class="lin"></hr>
					
		<h:panelGroup>
			<div class="buttonFooter">
				<p:commandButton id="btnVoltar" value="Voltar" ajax="false" styleClass="botao-voltar btn btn-zen-5 btn-toolbar"
					action="#{efetuarPedidoBean.navegarVoltarRevisarPedido()}" immediate="true" />
				<p:commandButton id="btnConcluirPedido" 
								 value="Concluir Pedido" 
								 ajax="false" styleClass="btn btn-zen-2 btn-toolbar"
								 onstart="statusDialog.show();" oncomplete="statusDialog.hide();loadMasksJQuery();"
								 action="#{efetuarPedidoBean.executePedido()}"
								 onclick="return confirm('Deseja realmente efetuar esse pedido ?')" />
				<div style="height: 10px;width: 10px;"></div>	
			</div>
		</h:panelGroup>
			
	</ui:define>
</ui:composition>