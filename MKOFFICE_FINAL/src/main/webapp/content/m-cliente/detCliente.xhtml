<?xml version='1.0' encoding='ISO-8859-1' ?>
<ui:composition template="/template/template_main.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


	<ui:define name="cssImports">
	</ui:define>
	
	<ui:define name="jsImports">
	</ui:define>

	<ui:define name="breadcrumb">
		<ul class="breadcrumb">
			<li class="active">
				<h:commandLink action="#{clienteBean.scheduleBean.telaInicial()}" value="#{msgs['generico.breadcumb.telainicial']}" />
				<span class="divider">/</span>
			</li>
			<li class="active">
				<h:commandLink action="#" value="#{msgs['detcliente.breadcumb.cliente']}" />
				<span class="divider">/</span>
			</li>
			<li class="active">
				<h:commandLink action="#{clienteBean.voltarInclusao()}" value="#{msgs['detcliente.breadcumb.cliente.listarclientes']}" />
				<span class="divider">/</span>
			</li>
			<li>#{msgs['detcliente.breadcumb.cliente.listarclientes.detalharcliente']}</li>
		</ul>
	</ui:define>

<ui:define name="body_content">
	<div class="widget">
			<div class="widget-heading">
				<a class="accordion-toggle in" data-toggle="collapse" href="#" data-original-title="">
				<i class="icon-table"></i> #{msgs['detcliente.lbl.legend.informacoescliente']}</a>
			</div>
			<div id="si" class="widget-body collapse in">
				<div class="widget-inner">
					<h:panelGrid cellpadding="0" cellspacing="1" columns="6" style="margin-top:5px;margin-bottom:25px;" >
							<h:outputLabel value="#{msgs['detcliente.lbl.nome']}:" for="txtNome" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtNome" value="#{clienteBean.vo.nome}" styleClass="input-5left HtmlOutputTextResposta"  />
							<h:outputLabel for="txtSexo" value="#{msgs['detcliente.lbl.sexo']}:" style="float:right;" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtSexo" value="#{clienteBean.vo.sexo}" styleClass="input-5left HtmlOutputTextResposta" />
							<h:outputLabel value="#{msgs['detcliente.lbl.datanascimento']}:" for="calendarDtNasc" styleClass="HtmlOutputLabelResposta" rendered="#{not empty clienteBean.vo.dataNascimentoFormatado}" />
							<h:outputLabel id="calendarDtNasc" value="#{clienteBean.vo.dataNascimentoFormatado}" styleClass="input-5left HtmlOutputTextResposta" />
							<h:panelGroup rendered="#{empty clienteBean.vo.dataNascimentoFormatado}"></h:panelGroup> 
						
							<h:outputLabel value="#{msgs['detcliente.lbl.endereco']}:" for="txtAddress" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtAddress" value="#{clienteBean.vo.endereco.logradouro}" styleClass="input-5left HtmlOutputTextResposta" />
							<h:outputLabel value="#{msgs['detcliente.lbl.numerocasa']}:" for="txtNum" style="float:right;" styleClass="HtmlOutputLabelResposta"/> 
							<h:outputLabel id="txtNum" value="#{clienteBean.vo.endereco.numero}" styleClass="input-5left HtmlOutputTextResposta"  />
							<h:outputLabel value="#{msgs['detcliente.lbl.bairro']}:" for="txtBairro" style="float:right;" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtBairro" value="#{clienteBean.vo.endereco.bairro}" styleClass="input-5left HtmlOutputTextResposta"  />
							
							<h:outputLabel value="#{msgs['detcliente.lbl.complemento']}:" for="txtComplemento" styleClass="HtmlOutputLabelResposta" rendered="#{not empty clienteBean.vo.endereco.complemento}"/>
							<h:outputLabel id="txtComplemento" value="#{clienteBean.vo.endereco.complemento}" size="50" rendered="#{not empty clienteBean.vo.endereco.complemento}" styleClass="input-5left HtmlOutputTextResposta"/>
							<h:panelGroup rendered="#{not empty clienteBean.vo.endereco.complemento}"></h:panelGroup> 
							<h:panelGroup rendered="#{not empty clienteBean.vo.endereco.complemento}"></h:panelGroup>
							<h:panelGroup rendered="#{not empty clienteBean.vo.endereco.complemento}"></h:panelGroup>
							<h:panelGroup rendered="#{not empty clienteBean.vo.endereco.complemento}"></h:panelGroup>
						
							<h:outputLabel value="#{msgs['detcliente.lbl.cidade']}:" for="txtCity" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtCity" value="#{clienteBean.vo.endereco.cidade}" styleClass="input-5left HtmlOutputTextResposta"  />
							<h:outputLabel value="#{msgs['detcliente.lbl.estado']}:" for="txtState" style="float:right;" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtState" value="#{clienteBean.vo.endereco.estado}" styleClass="input-5left HtmlOutputTextResposta"  />
							<h:outputLabel value="#{msgs['detcliente.lbl.cep']}:" for="cep" style="float:right;" styleClass="HtmlOutputLabelResposta" />
							<h:outputLabel id="cep" value="#{clienteBean.vo.endereco.cep}" styleClass="input-5left HtmlOutputTextResposta"  />
						
							<h:outputLabel value="#{msgs['detcliente.lbl.email']}:" for="txtEmail" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtEmail" value="#{clienteBean.vo.email}" styleClass="input-5left HtmlOutputTextResposta" />
							<h:outputLabel value="#{msgs['detcliente.lbl.telefone']}:" for="txtTelefone" styleClass="HtmlOutputLabelResposta"/>
							<h:outputLabel id="txtTelefone" value="#{clienteBean.vo.numTelefoneString}" styleClass="input-5left HtmlOutputTextResposta" />
							<h:outputLabel value="#{msgs['detcliente.lbl.celular']}:" for="txtTelefoneCel" style="float:right;" styleClass="HtmlOutputLabelResposta" />
							<h:outputLabel id="txtTelefoneCel" value="#{clienteBean.vo.numCelularString}" styleClass="input-5left HtmlOutputTextResposta" />
							
							<h:panelGroup rendered="#{not empty clienteBean.vo.dataPrimeiraVenda}">
								<h:outputLabel value="#{msgs['detcliente.lbl.dataprimeiravenda']}:" for="calendarDtFirstSale" styleClass="HtmlOutputLabelResposta" />
							</h:panelGroup>
							<h:panelGroup rendered="#{not empty clienteBean.vo.dataPrimeiraVenda}">
								<h:outputLabel id="calendarDtFirstSale" value="#{clienteBean.vo.dataPrimeiraVendaFormatado}" styleClass="input-5left HtmlOutputTextResposta" />
							</h:panelGroup>
							<h:panelGroup rendered="#{not empty clienteBean.vo.dataUltimaVenda}">
								<h:outputLabel value="#{msgs['detcliente.lbl.dataprimeiravenda']}:" for="calendarDtFirstSale" styleClass="HtmlOutputLabelResposta" />
							</h:panelGroup>
							<h:panelGroup rendered="#{not empty clienteBean.vo.dataUltimaVenda}"> 
								<h:outputLabel id="calendarDtLastSale" value="#{clienteBean.vo.dataUltimaVendaFormatado}" styleClass="input-5left HtmlOutputTextResposta" />
							</h:panelGroup>
						</h:panelGrid>
					</div>
				</div>
			</div>
			
			<div class="widget">
				<div class="widget-heading">
					<a class="accordion-toggle in" data-toggle="collapse" href="#" data-original-title="">
					<i class="icon-table"></i> #{msgs['detcliente.lbl.legend.informacoesadicionais']}</a>
				</div>
				<div id="si" class="widget-body collapse in">
					<div class="widget-inner">
						<h:panelGroup rendered="#{not empty clienteBean.vo.infAdicional}">
							<p:inputTextarea id="txtAdicionais" value="#{clienteBean.vo.infAdicional}"  style="margin-top:5px;width:99%;" autoResize="true" disabled="true"/>
						</h:panelGroup>
					</div>
				</div>
			</div>
			
			<h:panelGroup rendered="#{not empty clienteBean.clienteSelecionado.listaVendas}">
				<div class="widget">
					<div class="widget-heading">
						<a class="accordion-toggle in" data-toggle="collapse" href="#" data-original-title="">
						<i class="icon-table"></i> #{msgs['detcliente.lbl.legend.historicocompras']}</a>
					</div>
					<div id="si" class="widget-body collapse in">
						<div class="widget-inner">
							<p:dataTable id="tableListVendas" 
									style="margin-top:20px;"
									var="result" rows="10" rowKey="#{result}" 
									selectionMode="single"
									selection="#{clienteBean.vendaSelecionada}"
									value="#{clienteBean.clienteSelecionado.listaVendas}" 
									paginator="true" paginatorPosition="bottom" 
									emptyMessage="Dados não encontrados."
									sortBy="#{result.dataVenda}" sortOrder="descending">
			
								<p:ajax event="rowSelect" update="btnDetalhar btnLimpar" />
								<p:ajax event="rowUnselect" update="btnDetalhar btnLimpar" />
								
								<p:column headerText="#{msgs['generico.tabelacoluna.datavenda']}"
									style="text-align: center;" width="10%">
									<h:outputText value="#{result.dataVenda}"
										style="text-align: center;">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="#{msgs['generico.tabelacoluna.qtdeprodutosvendidos']}"
										  width="10%" style="text-align: center;">
									<h:outputText value="#{result.listaDeProdutos.size()} Produtos"
										style="text-align: center;" rendered="#{result.listaDeProdutos.size() > 1}" />
									<h:outputText value="#{result.listaDeProdutos.size()} Produto"
										style="text-align: center;" rendered="#{result.listaDeProdutos.size() == 1}" />
								</p:column>
								<p:column headerText="#{msgs['generico.tabelacoluna.formapagamento']}" width="10%" style="text-align: center;" sortBy="#{result.formaPagamento.descFormaPgto}">
									<h:outputText value="#{result.formaPagamento.descFormaPgto}" style="text-align: center;" />
								</p:column>
								<p:column headerText="#{msgs['generico.tabelacoluna.situacaopagamento']}" width="10%" style="text-align: center;" sortBy="#{result.descSituacaoPagamento}">
									<h:outputText value="#{result.descSituacaoPagamento}" style="text-align: center;" />
								</p:column>
								<p:column headerText="#{msgs['generico.tabelacoluna.valorvenda']}"
										  width="10%" style="text-align: center;">
									<h:outputText value="R$" style="text-align: center;" />
									<h:outputText value="#{result.valorVenda}" style="text-align: center;">
										<f:converter converterId="decimalConverter" />
									</h:outputText>
								</p:column>
								
								<f:facet name="footer">
									<p:commandButton id="btnLimpar" value="#{msgs.btn_desmarcarselecionado}" update=":formGlobal:tableListVendas" 
										disabled="#{empty clienteBean.vendaSelecionada}"  styleClass="btn btn-zen-2 btn-toolbar"
										actionListener="#{clienteBean.limparCompraClienteSelecionada()}" />
									<p:commandButton id="btnDetalhar"
													value="#{msgs.btn_detalhar}" 
													ajax="false" styleClass="btn btn-zen-2 btn-toolbar"
													action="#{clienteBean.navegarHistoricoCompraCliente()}"
													disabled="#{empty clienteBean.vendaSelecionada}" 
													rendered="#{not empty clienteBean.clienteSelecionado.listaVendas}"/>
								</f:facet>
								
							</p:dataTable>
						</div>
					</div>
				</div>
			</h:panelGroup>
		
			<hr class="lin"/>
			
			<h:panelGroup>
				<div class="buttonFooter">
					<p:commandButton id="btnVoltar" value="#{msgs['btn_voltar']}" ajax="false" 
						action="#{clienteBean.voltarInclusao}" styleClass="btn btn-zen-5 btn-toolbar" style="float: left;" />
				</div>
			</h:panelGroup>

</ui:define>

</ui:composition>